@model YarnsAndMobileRCOnlineBookStore.Models.Book
@using Microsoft.AspNetCore.Identity
@using YarnsAndMobileRCOnlineBookStore.Models.Data
@inject SignInManager<Member> SignInManager
@inject UserManager<Member> UserManager

@{
    ViewData["Title"] = "Details";
}
@{
    var email = User.Identity.Name;
    var adminOnly = !SignInManager.IsSignedIn(User) || !User.IsInRole("Admin") ? "invisible" : "";
    var adminDisable = User.IsInRole("Admin") ? "disabled" : "";
}
<h1>Book Details</h1>
<div class="d-inline-flex">
    <div>
        <img width="200" height="200" src="@Html.DisplayFor(model => model.Image)">
    </div>
    <div class="ml-4">
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ISBN)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.ISBN)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Title)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Title)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Image)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Image)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.AuthorFirstName)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.AuthorFirstName)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.AuthorLastName)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.AuthorLastName)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CopyrightYear)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.CopyrightYear)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.SalePrice)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.SalePrice)
            </dd>
        </dl>
        <br />
        <a class="@adminOnly" asp-controller="Books" asp-action="Edit" asp-route-id="@Model.BookId">Edit</a> |
        <a class="@adminDisable" asp-controller="Books" asp-action="Index" asp-route-SearchString="@email">Back to List </a>
        <a class="@adminOnly" asp-controller="Books" asp-action="Index">| Back to Full List</a>
    </div>
</div>
